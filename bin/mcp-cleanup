#!/usr/bin/env bash

# Cleanup script for MCP Docker containers
set -e

echo "Cleaning up MCP Docker containers..."

# Stop and remove Google Maps containers
echo "Stopping Google Maps MCP containers..."
docker ps -q --filter "ancestor=mcp/google-maps" | xargs -r docker stop
docker ps -aq --filter "ancestor=mcp/google-maps" | xargs -r docker rm

# Stop and remove containers by name pattern
echo "Stopping MCP containers by name..."
docker ps -q --filter "name=mcp-" | xargs -r docker stop
docker ps -aq --filter "name=mcp-" | xargs -r docker rm

# Clean up any dangling containers
echo "Removing stopped containers..."
docker container prune -f

echo "MCP container cleanup complete!"